<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="HighPulse.ai - AI-powered social intelligence platform analyzing Reddit, Twitter, YouTube, Quora and Wikipedia to deliver actionable market insights">
    <meta name="keywords" content="social media analysis, market intelligence, AI analytics, sentiment analysis, trend detection">
    <title>HighPulse.ai - Social Intelligence Platform | AI-Powered Market Insights</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/@mdi/font/css/materialdesignicons.min.css" rel="stylesheet">
    <style>
        :root {
            --primary: #6C63FF;
            --primary-dark: #564FD9;
            --secondary: #00C9A7;
            --accent: #FF6584;
            --dark: #121218;
            --darker: #0a0a0e;
            --light: #F8F9FC;
            --gray: #6B7280;
            --dark-gray: #2D3748;
            --light-gray: #E2E8F0;
            --success: #00C9A7;
            --danger: #FF6584;
            --warning: #FFB86C;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--darker);
            color: var(--light);
            line-height: 1.6;
            overflow-x: hidden;
        }
        
        /* Animated Background */
        .bg-animation {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            overflow: hidden;
        }
        
        .bg-circle {
            position: absolute;
            border-radius: 50%;
            background: radial-gradient(circle, rgba(108, 99, 255, 0.1) 0%, rgba(108, 99, 255, 0) 70%);
            animation: float 15s infinite ease-in-out;
        }
        
        .bg-circle:nth-child(1) {
            width: 600px;
            height: 600px;
            top: -100px;
            left: -100px;
            animation-delay: 0s;
        }
        
        .bg-circle:nth-child(2) {
            width: 400px;
            height: 400px;
            bottom: -100px;
            right: -100px;
            animation-delay: 3s;
        }
        
        .bg-circle:nth-child(3) {
            width: 300px;
            height: 300px;
            top: 30%;
            right: 20%;
            animation-delay: 6s;
        }
        
        .bg-circle:nth-child(4) {
            width: 500px;
            height: 500px;
            bottom: 20%;
            left: 10%;
            animation-delay: 9s;
        }
        
        @keyframes float {
            0%, 100% {
                transform: translate(0, 0) rotate(0deg);
            }
            25% {
                transform: translate(20px, 20px) rotate(5deg);
            }
            50% {
                transform: translate(-20px, 10px) rotate(-5deg);
            }
            75% {
                transform: translate(10px, -20px) rotate(3deg);
            }
        }
        
        /* Layout */
        .app-container {
            display: grid;
            grid-template-rows: auto 1fr auto;
            min-height: 100vh;
            position: relative;
        }
        
        /* Header */
        header {
            background: rgba(18, 18, 24, 0.8);
            color: white;
            padding: 1.5rem 0;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            position: relative;
            z-index: 10;
            backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
        }
        
        .header-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            font-size: 1.75rem;
            font-weight: 700;
            color: white;
            text-decoration: none;
        }
        
        .logo-icon {
            font-size: 2rem;
            color: var(--primary);
        }
        
        .nav-links {
            display: flex;
            gap: 2rem;
        }
        
        .nav-links a {
            color: var(--light-gray);
            text-decoration: none;
            font-weight: 500;
            transition: color 0.3s;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .nav-links a:hover {
            color: var(--primary);
        }
        
        .auth-buttons {
            display: flex;
            gap: 1rem;
        }
        
        .btn {
            padding: 0.75rem 1.5rem;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            border: none;
            font-size: 1rem;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .btn-primary {
            background-color: var(--primary);
            color: white;
        }
        
        .btn-primary:hover {
            background-color: var(--primary-dark);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(108, 99, 255, 0.3);
        }
        
        .btn-outline {
            background-color: transparent;
            color: var(--light);
            border: 2px solid var(--light-gray);
        }
        
        .btn-outline:hover {
            border-color: var(--primary);
            color: var(--primary);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(108, 99, 255, 0.1);
        }
        
        .btn-secondary {
            background-color: var(--secondary);
            color: var(--darker);
        }
        
        .btn-secondary:hover {
            background-color: #00b89a;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 201, 167, 0.3);
        }
        
        /* Main Content */
        main {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
            width: 100%;
        }
        
        /* Home Page */
        .hero {
            text-align: center;
            padding: 4rem 0;
            position: relative;
        }
        
        .hero h1 {
            font-size: 3.5rem;
            margin-bottom: 1.5rem;
            background: linear-gradient(to right, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            line-height: 1.2;
        }
        
        .hero p {
            font-size: 1.25rem;
            color: var(--light-gray);
            max-width: 700px;
            margin: 0 auto 2rem;
        }
        
        .hero-stats {
            display: flex;
            justify-content: center;
            gap: 2rem;
            margin: 2rem 0;
            flex-wrap: wrap;
        }
        
        .stat-card {
            background: rgba(18, 18, 24, 0.6);
            border-radius: 12px;
            padding: 1.5rem;
            min-width: 150px;
            border: 1px solid rgba(255, 255, 255, 0.05);
        }
        
        .stat-number {
            font-size: 2rem;
            font-weight: 700;
            color: var(--primary);
            margin-bottom: 0.5rem;
        }
        
        .hero-buttons {
            display: flex;
            gap: 1rem;
            justify-content: center;
            margin-top: 2rem;
        }
        
        .platform-logos {
            display: flex;
            justify-content: center;
            gap: 2rem;
            margin: 3rem 0;
            flex-wrap: wrap;
        }
        
        .platform-logo {
            font-size: 2.5rem;
            color: var(--light-gray);
            transition: color 0.3s;
        }
        
        .platform-logo:hover {
            color: var(--primary);
        }
        
        .features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin: 4rem 0;
        }
        
        .feature-card {
            background: rgba(18, 18, 24, 0.6);
            border-radius: 12px;
            padding: 2rem;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            border: 1px solid rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(5px);
        }
        
        .feature-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 24px rgba(108, 99, 255, 0.2);
            border-color: rgba(108, 99, 255, 0.2);
        }
        
        .feature-icon {
            font-size: 2.5rem;
            margin-bottom: 1rem;
            color: var(--primary);
        }
        
        .feature-card h3 {
            margin-bottom: 1rem;
            color: white;
        }
        
        .feature-card p {
            color: var(--light-gray);
        }
        
        /* Testimonials */
        .testimonials {
            margin: 5rem 0;
            text-align: center;
        }
        
        .testimonial-cards {
            display: flex;
            gap: 2rem;
            overflow-x: auto;
            padding: 1rem 0;
            scroll-snap-type: x mandatory;
            margin: 2rem 0;
        }
        
        .testimonial-card {
            min-width: 300px;
            background: rgba(18, 18, 24, 0.6);
            border-radius: 12px;
            padding: 2rem;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.05);
            scroll-snap-align: start;
            backdrop-filter: blur(5px);
        }
        
        .testimonial-content {
            font-style: italic;
            margin-bottom: 1rem;
            color: var(--light-gray);
        }
        
        .testimonial-author {
            display: flex;
            align-items: center;
            gap: 1rem;
        }
        
        .testimonial-avatar {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background-color: var(--primary);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
        }
        
        .testimonial-info h4 {
            color: white;
        }
        
        .testimonial-info p {
            color: var(--light-gray);
            font-size: 0.9rem;
        }
        
        /* Auth Modal */
        .auth-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 100;
            justify-content: center;
            align-items: center;
            backdrop-filter: blur(5px);
        }
        
        .auth-container {
            background: var(--darker);
            border-radius: 12px;
            width: 100%;
            max-width: 400px;
            padding: 2rem;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .auth-tabs {
            display: flex;
            margin-bottom: 1.5rem;
            border-bottom: 1px solid var(--dark-gray);
        }
        
        .auth-tab {
            padding: 0.75rem 1.5rem;
            cursor: pointer;
            font-weight: 600;
            color: var(--light-gray);
            border-bottom: 3px solid transparent;
            transition: all 0.3s;
        }
        
        .auth-tab.active {
            color: var(--primary);
            border-bottom-color: var(--primary);
        }
        
        .auth-form {
            display: none;
        }
        
        .auth-form.active {
            display: block;
        }
        
        .auth-form label {
            display: block;
            margin-bottom: 0.5rem;
            color: var(--light-gray);
        }
        
        .auth-form input {
            width: 100%;
            padding: 0.75rem;
            margin-bottom: 1rem;
            border-radius: 8px;
            background: rgba(18, 18, 24, 0.8);
            border: 1px solid var(--dark-gray);
            color: white;
            font-family: 'Inter', sans-serif;
        }
        
        .auth-form input:focus {
            outline: none;
            border-color: var(--primary);
        }
        
        .auth-error {
            color: var(--danger);
            margin-bottom: 1rem;
            font-size: 0.9rem;
            display: none;
        }
        
        /* Analysis Page */
        .analysis-container {
            display: none;
        }
        
        .search-container {
            display: flex;
            gap: 1rem;
            margin: 2rem auto;
            max-width: 800px;
        }
        
        #queryInput {
            flex: 1;
            padding: 1rem;
            background: rgba(18, 18, 24, 0.8);
            border: 2px solid var(--dark-gray);
            border-radius: 8px;
            font-size: 1rem;
            transition: border-color 0.3s;
            color: white;
            backdrop-filter: blur(5px);
        }
        
        #queryInput:focus {
            outline: none;
            border-color: var(--primary);
        }
        
        #queryInput::placeholder {
            color: var(--gray);
        }
        
        /* Loading Animation */
        .loading {
            display: none;
            text-align: center;
            padding: 2rem;
            color: var(--light-gray);
        }
        
        .spinner {
            width: 50px;
            height: 50px;
            border: 5px solid rgba(108, 99, 255, 0.2);
            border-radius: 50%;
            border-top-color: var(--primary);
            margin: 0 auto 1rem;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        /* Results Section */
        .results-container {
            display: none;
            animation: fadeIn 0.5s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .stats {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
            padding: 1rem;
            background: rgba(18, 18, 24, 0.6);
            border-radius: 8px;
            border: 1px solid rgba(255, 255, 255, 0.05);
        }
        
        #queryDisplay {
            font-weight: bold;
            color: var(--primary);
            font-size: 1.2rem;
        }
        
        #sourceCount {
            color: var(--light-gray);
            font-size: 0.9rem;
        }
        
        .platform-status {
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
            margin-bottom: 2rem;
        }
        
        .platform-tag {
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .platform-tag.success {
            background: rgba(0, 201, 167, 0.1);
            color: var(--success);
            border: 1px solid rgba(0, 201, 167, 0.3);
        }
        
        .platform-tag.warning {
            background: rgba(255, 184, 108, 0.1);
            color: var(--warning);
            border: 1px solid rgba(255, 184, 108, 0.3);
        }
        
        .platform-tag.error {
            background: rgba(255, 101, 132, 0.1);
            color: var(--danger);
            border: 1px solid rgba(255, 101, 132, 0.3);
        }
        
        .analysis-section {
            background: rgba(18, 18, 24, 0.6);
            border-radius: 12px;
            padding: 1.5rem;
            margin-bottom: 2rem;
            border: 1px solid rgba(255, 255, 255, 0.05);
        }
        
        .analysis-section h2 {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-bottom: 1rem;
            color: white;
        }
        
        .analysis-content {
            color: var(--light-gray);
            line-height: 1.7;
        }
        
        .analysis-content p {
            margin-bottom: 1rem;
        }
        
        /* Chat Interface */
        .chat-container {
        display: none;
        margin-top: 2rem;
        background: rgba(18, 18, 24, 0.8);
        border-radius: 12px;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        overflow: hidden;
        border: 1px solid rgba(255, 255, 255, 0.05);
        backdrop-filter: blur(5px);
        height: 600px;
        display: flex;
        flex-direction: column;
        transition: all 0.3s ease;
    }

    .chat-header {
        background: var(--primary);
        color: white;
        padding: 1rem 1.5rem;
        display: flex;
        justify-content: space-between;
        align-items: center;
        flex-shrink: 0;
    }

    .chat-messages {
        flex: 1;
        overflow-y: auto;
        padding: 1.5rem;
        background: rgba(10, 10, 14, 0.5);
        display: flex;
        flex-direction: column;
        gap: 1rem;
        scroll-behavior: smooth;
    }

    /* Custom scrollbar for chat */
    .chat-messages::-webkit-scrollbar {
        width: 8px;
    }

    .chat-messages::-webkit-scrollbar-track {
        background: rgba(255, 255, 255, 0.05);
        border-radius: 4px;
    }

    .chat-messages::-webkit-scrollbar-thumb {
        background: var(--primary);
        border-radius: 4px;
    }

    .chat-messages::-webkit-scrollbar-thumb:hover {
        background: var(--primary-dark);
    }

    .message {
        max-width: 85%;
        animation: fadeIn 0.3s ease;
        padding: 0.75rem 1.25rem;
        border-radius: 18px;
        position: relative;
        opacity: 0;
        transform: translateY(10px);
        animation: messageIn 0.3s forwards;
    }

    @keyframes messageIn {
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

    .user-message {
        align-self: flex-end;
        background: var(--primary);
        color: white;
        border-radius: 18px 18px 4px 18px;
        margin-left: 15%;
    }

    .bot-message {
        align-self: flex-start;
        background: rgba(18, 18, 24, 0.8);
        color: var(--light);
        border-radius: 18px 18px 18px 4px;
        border: 1px solid rgba(255, 255, 255, 0.05);
        margin-right: 15%;
    }

    .message-content {
        word-wrap: break-word;
        overflow-wrap: break-word;
        white-space: pre-wrap;
    }

    .message-time {
        font-size: 0.7rem;
        opacity: 0.7;
        margin-top: 0.5rem;
        text-align: right;
    }

    .typing-indicator {
        display: flex;
        align-items: center;
        gap: 0.5rem;
        padding: 0.75rem 1.25rem;
        background: rgba(18, 18, 24, 0.8);
        border-radius: 18px;
        border: 1px solid rgba(255, 255, 255, 0.05);
        align-self: flex-start;
        margin-right: 15%;
    }

    .typing-dot {
        width: 8px;
        height: 8px;
        background-color: var(--light-gray);
        border-radius: 50%;
        display: inline-block;
        animation: typingAnimation 1.4s infinite ease-in-out;
    }

    .typing-dot:nth-child(1) {
        animation-delay: 0s;
    }

    .typing-dot:nth-child(2) {
        animation-delay: 0.2s;
    }

    .typing-dot:nth-child(3) {
        animation-delay: 0.4s;
    }

    @keyframes typingAnimation {
        0%, 60%, 100% {
            transform: translateY(0);
            opacity: 0.6;
        }
        30% {
            transform: translateY(-5px);
            opacity: 1;
        }
    }

    .chat-input-container {
        display: flex;
        padding: 1rem;
        border-top: 1px solid var(--dark-gray);
        background: rgba(18, 18, 24, 0.8);
        gap: 0.5rem;
        flex-shrink: 0;
    }

    #chatInput {
        flex: 1;
        padding: 0.75rem 1rem;
        background: rgba(10, 10, 14, 0.8);
        border: 2px solid var(--dark-gray);
        border-radius: 8px;
        font-size: 1rem;
        color: white;
        resize: none;
        min-height: 50px;
        max-height: 150px;
        overflow-y: auto;
        transition: all 0.3s ease;
    }

    #chatInput:focus {
        outline: none;
        border-color: var(--primary);
        box-shadow: 0 0 0 2px rgba(108, 99, 255, 0.2);
    }

    /* Make sure the chat stays at bottom when new messages arrive */
    .chat-scroll-anchor {
        float: left;
        clear: both;
        width: 100%;
        padding-bottom: 1rem;
    }
        /* Dashboard */
        .dashboard {
            display: none;
            padding: 2rem;
        }
        
        .dashboard-header {
            margin-bottom: 2rem;
            text-align: center;
        }
        
        .dashboard-header h2 {
            color: white;
            margin-bottom: 0.5rem;
        }
        
        .dashboard-header p {
            color: var(--light-gray);
        }
        
        .analysis-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
        }
        
        .analysis-card {
            background: rgba(18, 18, 24, 0.6);
            border-radius: 12px;
            padding: 1.5rem;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            cursor: pointer;
            border: 1px solid rgba(255, 255, 255, 0.05);
            text-align: center;
            backdrop-filter: blur(5px);
        }
        
        .analysis-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 24px rgba(108, 99, 255, 0.2);
            border-color: rgba(108, 99, 255, 0.2);
        }
        
        .analysis-card h3 {
            color: white;
            margin: 1rem 0 0.5rem;
        }
        
        .analysis-card p {
            color: var(--light-gray);
            font-size: 0.9rem;
        }
        
        /* Recent Analyses */
        .recent-analyses {
            margin-top: 3rem;
        }
        
        .recent-analyses h3 {
            color: white;
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .analysis-list {
            display: grid;
            gap: 1rem;
        }
        
        .analysis-item {
            background: rgba(18, 18, 24, 0.6);
            border-radius: 8px;
            padding: 1rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border: 1px solid rgba(255, 255, 255, 0.05);
            transition: all 0.3s;
        }
        
        .analysis-item:hover {
            background: rgba(18, 18, 24, 0.8);
        }
        
        .analysis-query {
            font-weight: 500;
            color: white;
        }
        
        .analysis-date {
            color: var(--light-gray);
            font-size: 0.8rem;
        }
        
        .analysis-actions {
            display: flex;
            gap: 0.5rem;
        }
        
        .action-btn {
            background: transparent;
            border: none;
            color: var(--light-gray);
            cursor: pointer;
            transition: color 0.3s;
            font-size: 1.1rem;
        }
        
        .action-btn:hover {
            color: var(--primary);
        }
        
        /* Footer */
        footer {
            background: rgba(10, 10, 14, 0.8);
            color: white;
            padding: 3rem 2rem 2rem;
            margin-top: 3rem;
            border-top: 1px solid rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(5px);
        }
        
        .footer-content {
            max-width: 1200px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 2rem;
            text-align: left;
        }
        
        .footer-column h3 {
            margin-bottom: 1.5rem;
            color: var(--secondary);
            font-size: 1.1rem;
        }
        
        .footer-column ul {
            list-style: none;
        }
        
        .footer-column li {
            margin-bottom: 0.75rem;
        }
        
        .footer-column a {
            color: var(--light-gray);
            text-decoration: none;
            transition: color 0.3s;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .footer-column a:hover {
            color: var(--primary);
        }
        
        .footer-bottom {
            max-width: 1200px;
            margin: 2rem auto 0;
            padding-top: 2rem;
            border-top: 1px solid rgba(255, 255, 255, 0.05);
            display: flex;
            justify-content: space-between;
            align-items: center;
            color: var(--light-gray);
            font-size: 0.9rem;
        }
        
        .social-links {
            display: flex;
            gap: 1rem;
        }
        
        .social-link {
            color: var(--light-gray);
            transition: color 0.3s;
            font-size: 1.1rem;
        }
        
        .social-link:hover {
            color: var(--primary);
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .header-content {
                flex-direction: column;
                gap: 1.5rem;
            }
            
            .nav-links {
                flex-direction: column;
                gap: 1rem;
                text-align: center;
            }
            
            .auth-buttons {
                width: 100%;
                justify-content: center;
            }
            
            .search-container {
                flex-direction: column;
            }
            
            .hero h1 {
                font-size: 2.5rem;
            }
            
            .hero-buttons {
                flex-direction: column;
                align-items: center;
            }
            
            .footer-content {
                grid-template-columns: 1fr;
                text-align: center;
            }
            
            .footer-bottom {
                flex-direction: column;
                gap: 1rem;
            }
            
            .auth-container {
                width: 90%;
                padding: 1.5rem;
            }
            
            .chat-container {
                height: 500px;
            }
        }
        
        @media (max-width: 480px) {
            .hero h1 {
                font-size: 2rem;
            }
            
            .hero p {
                font-size: 1rem;
            }
            
            .hero-stats {
                flex-direction: column;
                align-items: center;
            }
            
            .stat-card {
                width: 100%;
                max-width: 200px;
            }
            
            .feature-card {
                padding: 1.5rem;
            }
            
            .testimonial-card {
                min-width: 250px;
                padding: 1.5rem;
            }
            
            .analysis-section {
                padding: 1rem;
            }
        }
    </style>
</head>
<body class="app-container">
    <!-- Background Animation -->
    <div class="bg-animation">
        <div class="bg-circle"></div>
        <div class="bg-circle"></div>
        <div class="bg-circle"></div>
        <div class="bg-circle"></div>
    </div>

    <!-- Header -->
    <header>
        <div class="header-content">
            <a href="#" class="logo" id="homeLink">
                <i class="mdi mdi-chart-areaspline logo-icon"></i>
                <span>HighPulse.ai</span>
            </a>
            
            <nav class="nav-links">
                <a href="#features"><i class="mdi mdi-star-circle"></i> Features</a>
                <a href="#use-cases"><i class="mdi mdi-lightbulb-on"></i> Use Cases</a>
                <a href="#pricing"><i class="mdi mdi-currency-usd"></i> Pricing</a>
                <a href="#about"><i class="mdi mdi-information"></i> About</a>
            </nav>
            
            <div class="auth-buttons">
                <button class="btn btn-outline" id="loginBtn">
                    <i class="mdi mdi-login"></i> Log In
                </button>
                <button class="btn btn-primary" id="signupBtn">
                    <i class="mdi mdi-account-plus"></i> Sign Up
                </button>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main>
        <!-- Home Page -->
        <div id="homePage">
            <section class="hero">
                <h1>Transform Social Data Into Strategic Insights</h1>
                <p>HighPulse.ai leverages cutting-edge AI to analyze conversations across Reddit, Twitter, YouTube, Quora, and Wikipedia. Discover emerging trends, understand public sentiment, and gain competitive intelligence in real-time.</p>
                
                <div class="hero-stats">
                    <div class="stat-card">
                        <div class="stat-number">10M+</div>
                        <div>Posts Analyzed Daily</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number">5+</div>
                        <div>Social Platforms</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number">24/7</div>
                        <div>Real-time Monitoring</div>
                    </div>
                </div>
                
                <div class="hero-buttons">
                    <button class="btn btn-primary" id="getStartedBtn">
                        <i class="mdi mdi-rocket"></i> Get Started
                    </button>
                    <button class="btn btn-outline" id="demoBtn">
                        <i class="mdi mdi-play-circle"></i> Watch Demo
                    </button>
                </div>
                
                <div class="platform-logos">
                    <i class="mdi mdi-reddit platform-logo" title="Reddit"></i>
                    <i class="mdi mdi-twitter platform-logo" title="Twitter"></i>
                    <i class="mdi mdi-youtube platform-logo" title="YouTube"></i>
                    <i class="mdi mdi-quora platform-logo" title="Quora"></i>
                    <i class="mdi mdi-wikipedia platform-logo" title="Wikipedia"></i>
                </div>
            </section>
            
            <section class="features" id="features">
                <h2 style="text-align: center; margin-bottom: 2rem; color: white;">Powerful Features for Market Intelligence</h2>
                <div class="feature-card">
                    <i class="mdi mdi-magnify feature-icon"></i>
                    <h3>Comprehensive Social Analysis</h3>
                    <p>Get unified insights from Reddit discussions, Twitter threads, YouTube comments, Quora answers, and Wikipedia content with a single query. Our platform aggregates data across all these sources to give you a complete picture of online conversations.</p>
                </div>
                <div class="feature-card">
                    <i class="mdi mdi-chart-bar feature-icon"></i>
                    <h3>Real-time Market Intelligence</h3>
                    <p>Identify emerging trends, market opportunities, and consumer sentiment patterns as they develop across social platforms. Our real-time monitoring ensures you never miss important shifts in public opinion.</p>
                </div>
                <div class="feature-card">
                    <i class="mdi mdi-robot feature-icon"></i>
                    <h3>AI-Powered Insight Generation</h3>
                    <p>Our proprietary AI models extract meaningful patterns, relationships, and strategic insights from complex social data. The system learns from each analysis to provide increasingly accurate predictions.</p>
                </div>
                <div class="feature-card">
                    <i class="mdi mdi-shield-check feature-icon"></i>
                    <h3>Competitive Benchmarking</h3>
                    <p>Compare your brand's online presence against competitors. Track share of voice, sentiment trends, and engagement metrics to identify strengths and opportunities.</p>
                </div>
                <div class="feature-card">
                    <i class="mdi mdi-bell-ring feature-icon"></i>
                    <h3>Custom Alerts</h3>
                    <p>Set up notifications for specific keywords, sentiment shifts, or emerging trends. Get alerted via email or mobile when important conversations happen.</p>
                </div>
                <div class="feature-card">
                    <i class="mdi mdi-file-chart feature-icon"></i>
                    <h3>Automated Reporting</h3>
                    <p>Generate beautiful, shareable reports with key metrics and insights. Schedule weekly or monthly reports to keep stakeholders informed.</p>
                </div>
            </section>
            
            <section class="testimonials" id="use-cases">
                <h2>Trusted by Industry Leaders</h2>
                <p>See how organizations leverage HighPulse.ai for competitive advantage</p>
                
                <div class="testimonial-cards">
                    <div class="testimonial-card">
                        <div class="testimonial-content">
                            "HighPulse.ai transformed our market research process, cutting analysis time by 70% while delivering deeper insights than traditional methods. We discovered three emerging consumer needs before our competitors did."
                        </div>
                        <div class="testimonial-author">
                            <div class="testimonial-avatar">JS</div>
                            <div class="testimonial-info">
                                <h4>Jamie Smith</h4>
                                <p>Market Research Director, TechCorp</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="testimonial-card">
                        <div class="testimonial-content">
                            "The sentiment analysis helped us identify a product issue before it became widespread, saving millions in potential recalls. We now use HighPulse.ai for all product launches and updates."
                        </div>
                        <div class="testimonial-author">
                            <div class="testimonial-avatar">MC</div>
                            <div class="testimonial-info">
                                <h4>Maria Chen</h4>
                                <p>Product Manager, Consumer Goods Inc.</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="testimonial-card">
                        <div class="testimonial-content">
                            "We discovered three emerging market trends before our competitors using HighPulse.ai, giving us first-mover advantage in each case. The platform pays for itself many times over."
                        </div>
                        <div class="testimonial-author">
                            <div class="testimonial-avatar">DR</div>
                            <div class="testimonial-info">
                                <h4>David Rodriguez</h4>
                                <p>Strategy VP, Venture Capital</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
            
            <section id="pricing" style="margin: 5rem 0; text-align: center;">
                <h2 style="color: white; margin-bottom: 1rem;">Simple, Transparent Pricing</h2>
                <p style="color: var(--light-gray); max-width: 700px; margin: 0 auto 3rem;">Choose the plan that fits your needs. No hidden fees, cancel anytime.</p>
                
                <div class="features" style="margin-top: 2rem;">
                    <div class="feature-card">
                        <h3 style="color: var(--primary);">Starter</h3>
                        <div style="font-size: 2.5rem; font-weight: 700; margin: 1rem 0;">$99<span style="font-size: 1rem; color: var(--light-gray);">/month</span></div>
                        <ul style="text-align: left; list-style: none; margin: 1.5rem 0;">
                            <li style="margin-bottom: 0.75rem;"><i class="mdi mdi-check" style="color: var(--success);"></i> 50 analyses per month</li>
                            <li style="margin-bottom: 0.75rem;"><i class="mdi mdi-check" style="color: var(--success);"></i> Basic sentiment analysis</li>
                            <li style="margin-bottom: 0.75rem;"><i class="mdi mdi-check" style="color: var(--success);"></i> 3 platform integrations</li>
                            <li style="margin-bottom: 0.75rem;"><i class="mdi mdi-check" style="color: var(--success);"></i> Email support</li>
                        </ul>
                        <button class="btn btn-outline" style="width: 100%;">Get Started</button>
                    </div>
                    <div class="feature-card" style="border: 2px solid var(--primary); transform: scale(1.02);">
                        <div style="position: absolute; top: -10px; right: 20px; background: var(--primary); color: white; padding: 0.25rem 0.75rem; border-radius: 20px; font-size: 0.8rem; font-weight: 600;">MOST POPULAR</div>
                        <h3 style="color: var(--primary);">Professional</h3>
                        <div style="font-size: 2.5rem; font-weight: 700; margin: 1rem 0;">$299<span style="font-size: 1rem; color: var(--light-gray);">/month</span></div>
                        <ul style="text-align: left; list-style: none; margin: 1.5rem 0;">
                            <li style="margin-bottom: 0.75rem;"><i class="mdi mdi-check" style="color: var(--success);"></i> 200 analyses per month</li>
                            <li style="margin-bottom: 0.75rem;"><i class="mdi mdi-check" style="color: var(--success);"></i> Advanced sentiment analysis</li>
                            <li style="margin-bottom: 0.75rem;"><i class="mdi mdi-check" style="color: var(--success);"></i> All platform integrations</li>
                            <li style="margin-bottom: 0.75rem;"><i class="mdi mdi-check" style="color: var(--success);"></i> Priority support</li>
                            <li style="margin-bottom: 0.75rem;"><i class="mdi mdi-check" style="color: var(--success);"></i> Custom alerts</li>
                        </ul>
                        <button class="btn btn-primary" style="width: 100%;">Get Started</button>
                    </div>
                    <div class="feature-card">
                        <h3 style="color: var(--primary);">Enterprise</h3>
                        <div style="font-size: 2.5rem; font-weight: 700; margin: 1rem 0;">Custom</div>
                        <ul style="text-align: left; list-style: none; margin: 1.5rem 0;">
                            <li style="margin-bottom: 0.75rem;"><i class="mdi mdi-check" style="color: var(--success);"></i> Unlimited analyses</li>
                            <li style="margin-bottom: 0.75rem;"><i class="mdi mdi-check" style="color: var(--success);"></i> Advanced analytics</li>
                            <li style="margin-bottom: 0.75rem;"><i class="mdi mdi-check" style="color: var(--success);"></i> API access</li>
                            <li style="margin-bottom: 0.75rem;"><i class="mdi mdi-check" style="color: var(--success);"></i> Dedicated account manager</li>
                            <li style="margin-bottom: 0.75rem;"><i class="mdi mdi-check" style="color: var(--success);"></i> Custom integrations</li>
                        </ul>
                        <button class="btn btn-outline" style="width: 100%;">Contact Sales</button>
                    </div>
                </div>
            </section>
            
            <section id="about" style="margin: 5rem 0; text-align: center;">
                <h2 style="color: white; margin-bottom: 1rem;">About HighPulse.ai</h2>
                <p style="color: var(--light-gray); max-width: 800px; margin: 0 auto 2rem; line-height: 1.7;">
                    HighPulse.ai was founded in 2022 by a team of data scientists and market researchers who saw the untapped potential in social media conversations. 
                    Our mission is to democratize access to market intelligence by making sophisticated analysis accessible to businesses of all sizes.
                </p>
                <p style="color: var(--light-gray); max-width: 800px; margin: 0 auto; line-height: 1.7;">
                    Using state-of-the-art natural language processing and machine learning, we transform unstructured social data into actionable insights that drive business decisions. 
                    Our platform is constantly evolving to incorporate the latest advances in AI and data science.
                </p>
                
                <div class="features" style="margin-top: 3rem;">
                    <div class="feature-card">
                        <i class="mdi mdi-shield-lock feature-icon"></i>
                        <h3>Security & Privacy</h3>
                        <p>We take data security seriously. All data is encrypted in transit and at rest, and we comply with global privacy regulations including GDPR and CCPA.</p>
                    </div>
                    <div class="feature-card">
                        <i class="mdi mdi-update feature-icon"></i>
                        <h3>Continuous Improvement</h3>
                        <p>Our AI models are continuously trained on new data to improve accuracy. We release updates weekly to enhance features and performance.</p>
                    </div>
                    <div class="feature-card">
                        <i class="mdi mdi-headset feature-icon"></i>
                        <h3>Dedicated Support</h3>
                        <p>Our team of analysts and data scientists are available to help you get the most from our platform, with 24/7 support for enterprise customers.</p>
                    </div>
                </div>
            </section>
        </div>

        <!-- Auth Modal -->
        <div class="auth-modal" id="authModal">
            <div class="auth-container">
                <div class="auth-tabs">
                    <div class="auth-tab active" id="loginTab">Login</div>
                    <div class="auth-tab" id="registerTab">Register</div>
                </div>
                
                <div class="auth-error" id="authError"></div>
                
                <form class="auth-form active" id="loginForm">
                    <div style="margin-bottom: 1rem;">
                        <label>Email</label>
                        <input type="email" id="loginEmail" placeholder="Enter your email">
                    </div>
                    <div style="margin-bottom: 1.5rem;">
                        <label>Password</label>
                        <input type="password" id="loginPassword" placeholder="Enter your password">
                    </div>
                    <button type="button" class="btn btn-primary" id="loginSubmit" style="width: 100%;">
                        <i class="mdi mdi-login"></i> Login
                    </button>
                </form>
                
                <form class="auth-form" id="registerForm">
                    <div style="margin-bottom: 1rem;">
                        <label>Name</label>
                        <input type="text" id="registerName" placeholder="Enter your name">
                    </div>
                    <div style="margin-bottom: 1rem;">
                        <label>Email</label>
                        <input type="email" id="registerEmail" placeholder="Enter your email">
                    </div>
                    <div style="margin-bottom: 1.5rem;">
                        <label>Password</label>
                        <input type="password" id="registerPassword" placeholder="Create a password">
                    </div>
                    <button type="button" class="btn btn-primary" id="registerSubmit" style="width: 100%;">
                        <i class="mdi mdi-account-plus"></i> Register
                    </button>
                </form>
            </div>
        </div>
        
        <!-- Dashboard (After Login) -->
        <div id="dashboard" class="dashboard">
            <div class="dashboard-header">
                <h2>Welcome Back, <span id="userName">Analyst</span></h2>
                <p>What would you like to analyze today?</p>
            </div>
            
            <div class="analysis-cards">
                <div class="analysis-card" id="newAnalysisCard">
                    <i class="mdi mdi-plus-circle" style="font-size: 2.5rem; color: var(--primary);"></i>
                    <h3>New Analysis</h3>
                    <p>Start a fresh social media analysis across all supported platforms</p>
                </div>
                
                <div class="analysis-card" id="recentAnalysisCard">
                    <i class="mdi mdi-history" style="font-size: 2.5rem; color: var(--primary);"></i>
                    <h3>Recent Analyses</h3>
                    <p>Review your previous analyses and findings</p>
                </div>
                
                <div class="analysis-card" id="savedInsightsCard">
                    <i class="mdi mdi-bookmark" style="font-size: 2.5rem; color: var(--primary);"></i>
                    <h3>Saved Insights</h3>
                    <p>Access your bookmarked insights and reports</p>
                </div>
            </div>
            
            <div class="recent-analyses">
                <h3><i class="mdi mdi-clock"></i> Your Recent Analyses</h3>
                <div class="analysis-list" id="recentAnalysisList">
                    <!-- Will be populated by JavaScript -->
                </div>
            </div>
        </div>

        <!-- Analysis Page -->
        <div id="analysisPage" class="analysis-container">
            <div class="search-container">
                <input type="text" id="queryInput" placeholder="What topic would you like to analyze? (e.g., 'AI in healthcare', 'Sustainable packaging trends')">
                <button class="btn btn-primary" id="searchBtn">
                    <i class="mdi mdi-magnify"></i> Analyze
                </button>
            </div>
            
            <div id="errorContainer" style="display: none;"></div>
            
            <div id="loading" class="loading" style="display: none;">
                <div class="spinner"></div>
                <p>Gathering intelligence from social media...</p>
                <p>This may take a minute</p>
            </div>
            
            <div id="resultsContainer" class="results-container">
                <div class="stats">
                    <span id="queryDisplay"></span>
                    <span id="sourceCount"></span>
                </div>
                
                <div class="platform-status" id="platformStatus"></div>
                
                <div class="analysis-section">
                    <h2><i class="mdi mdi-text-box-search"></i> Detailed Explanation</h2>
                    <div class="analysis-content" id="detailedExplanation">
                        <p>Loading analysis...</p>
                    </div>
                </div>
                
                <div class="analysis-section">
                    <h2><i class="mdi mdi-finance"></i> Market Analysis</h2>
                    <div class="analysis-content" id="marketAnalysis">
                        <p>Loading market insights...</p>
                    </div>
                </div>
                
                <div class="analysis-section">
                    <h2><i class="mdi mdi-account-group"></i> Public Opinion</h2>
                    <div class="analysis-content" id="publicOpinion">
                        <p>Analyzing public discourse...</p>
                    </div>
                </div>
                
                <div class="analysis-section">
                    <h2><i class="mdi mdi-emoticon"></i> Sentiment Analysis</h2>
                    <div class="analysis-content" id="sentimentAnalysis">
                        <p>Evaluating sentiment patterns...</p>
                    </div>
                    <div id="sentimentChartContainer" style="width: 100%; max-width: 400px; margin: 1rem auto;"></div>
                </div>
                
                <div class="analysis-section">
                    <h2><i class="mdi mdi-trending-up"></i> Key Trends</h2>
                    <div class="analysis-content" id="trendAnalysis">
                        <p>Identifying emerging trends...</p>
                    </div>
                </div>
                
                <div style="display: flex; justify-content: center; gap: 1rem; margin-top: 2rem; flex-wrap: wrap;">
                    <button class="btn btn-primary" id="startChatBtn">
                        <i class="mdi mdi-chat"></i> Discuss This Analysis
                    </button>
                    <button class="btn btn-secondary" id="saveAnalysisBtn">
                        <i class="mdi mdi-content-save"></i> Save Analysis
                    </button>
                    <button class="btn btn-outline" id="newAnalysisBtn">
                        <i class="mdi mdi-plus"></i> New Analysis
                    </button>
                </div>
            </div>
            
            <div id="chatContainer" class="chat-container">
              <div class="chat-header">
                  <h3><i class="mdi mdi-robot"></i> Analysis Assistant</h3>
                  <button class="btn btn-outline" id="closeChatBtn">
                      <i class="mdi mdi-close"></i> Close Chat
                  </button>
              </div>
              <div class="chat-messages" id="chatMessages">
                  <div class="chat-scroll-anchor"></div>
              </div>
              <div class="chat-input-container">
                  <textarea id="chatInput" placeholder="Ask about this analysis (e.g., 'What were the main concerns on Reddit?', 'Can you explain the sentiment breakdown?')" rows="1"></textarea>
                  <button class="btn btn-primary" id="sendChatBtn">
                      <i class="mdi mdi-send"></i>
                  </button>
              </div>
          </div>
        </div>
    </main>

    <!-- Footer -->
    <footer>
        <div class="footer-content">
            <div class="footer-column">
                <h3>HighPulse.ai</h3>
                <p>Transforming social data into strategic intelligence through AI-powered analysis.</p>
                <div style="margin-top: 1rem;">
                    <a href="#" class="btn btn-outline" style="padding: 0.5rem 1rem; font-size: 0.9rem;">
                        <i class="mdi mdi-email"></i> Contact Us
                    </a>
                </div>
            </div>
            <div class="footer-column">
                <h3>Product</h3>
                <ul>
                    <li><a href="#"><i class="mdi mdi-feature-search"></i> Features</a></li>
                    <li><a href="#"><i class="mdi mdi-chart-line"></i> Solutions</a></li>
                    <li><a href="#"><i class="mdi mdi-currency-usd"></i> Pricing</a></li>
                    <li><a href="#"><i class="mdi mdi-api"></i> API</a></li>
                    <li><a href="#"><i class="mdi mdi-update"></i> Changelog</a></li>
                </ul>
            </div>
            <div class="footer-column">
                <h3>Resources</h3>
                <ul>
                    <li><a href="#"><i class="mdi mdi-book-open"></i> Documentation</a></li>
                    <li><a href="#"><i class="mdi mdi-post"></i> Blog</a></li>
                    <li><a href="#"><i class="mdi mdi-school"></i> Tutorials</a></li>
                    <li><a href="#"><i class="mdi mdi-chart-box"></i> Case Studies</a></li>
                    <li><a href="#"><i class="mdi mdi-help-circle"></i> Support</a></li>
                </ul>
            </div>
            <div class="footer-column">
                <h3>Company</h3>
                <ul>
                    <li><a href="#"><i class="mdi mdi-information"></i> About Us</a></li>
                    <li><a href="#"><i class="mdi mdi-briefcase"></i> Careers</a></li>
                    <li><a href="#"><i class="mdi mdi-shield"></i> Privacy</a></li>
                    <li><a href="#"><i class="mdi mdi-file-document"></i> Terms</a></li>
                    <li><a href="#"><i class="mdi mdi-phone"></i> Contact</a></li>
                </ul>
            </div>
        </div>
        <div class="footer-bottom">
            <div>&copy; 2023 HighPulse.ai. All rights reserved.</div>
            <div class="social-links">
                <a href="#" class="social-link"><i class="mdi mdi-twitter"></i></a>
                <a href="#" class="social-link"><i class="mdi mdi-linkedin"></i></a>
                <a href="#" class="social-link"><i class="mdi mdi-github"></i></a>
                <a href="#" class="social-link"><i class="mdi mdi-youtube"></i></a>
            </div>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
        // App State
        const state = {
            currentAnalysis: null,
            chatHistory: [],
            user: null,
            recentAnalyses: JSON.parse(localStorage.getItem('recentAnalyses')) || []
        };

        // DOM Elements
        const homePage = document.getElementById('homePage');
        const dashboard = document.getElementById('dashboard');
        const analysisPage = document.getElementById('analysisPage');
        const authModal = document.getElementById('authModal');
        const loginTab = document.getElementById('loginTab');
        const registerTab = document.getElementById('registerTab');
        const loginForm = document.getElementById('loginForm');
        const registerForm = document.getElementById('registerForm');
        const authError = document.getElementById('authError');
        const homeLink = document.getElementById('homeLink');
        const getStartedBtn = document.getElementById('getStartedBtn');
        const loginBtn = document.getElementById('loginBtn');
        const signupBtn = document.getElementById('signupBtn');
        const newAnalysisCard = document.getElementById('newAnalysisCard');
        const searchBtn = document.getElementById('searchBtn');
        const startChatBtn = document.getElementById('startChatBtn');
        const saveAnalysisBtn = document.getElementById('saveAnalysisBtn');
        const newAnalysisBtn = document.getElementById('newAnalysisBtn');
        const closeChatBtn = document.getElementById('closeChatBtn');
        const sendChatBtn = document.getElementById('sendChatBtn');
        const chatInput = document.getElementById('chatInput');
        const chatMessages = document.getElementById('chatMessages');
        const queryInput = document.getElementById('queryInput');
        const recentAnalysisList = document.getElementById('recentAnalysisList');
        const userName = document.getElementById('userName');

        // Event Listeners
        homeLink.addEventListener('click', (e) => {
            e.preventDefault();
            showHomePage();
        });
        
        getStartedBtn.addEventListener('click', showAuthModal);
        loginBtn.addEventListener('click', showAuthModal);
        signupBtn.addEventListener('click', showAuthModal);
        loginTab.addEventListener('click', () => switchAuthTab('login'));
        registerTab.addEventListener('click', () => switchAuthTab('register'));
        document.getElementById('loginSubmit').addEventListener('click', loginUser);
        document.getElementById('registerSubmit').addEventListener('click', registerUser);
        newAnalysisCard.addEventListener('click', showAnalysisPage);
        searchBtn.addEventListener('click', analyzeQuery);
        startChatBtn.addEventListener('click', startChat);
        saveAnalysisBtn.addEventListener('click', saveAnalysis);
        newAnalysisBtn.addEventListener('click', resetAnalysis);
        closeChatBtn.addEventListener('click', closeChat);
        sendChatBtn.addEventListener('click', sendChatMessage);
        chatInput.addEventListener('keypress', (e) => e.key === 'Enter' && sendChatMessage());
        queryInput.addEventListener('keypress', (e) => e.key === 'Enter' && analyzeQuery());

        // Initialize the app
        document.addEventListener('DOMContentLoaded', () => {
            // Check if user is logged in
            const loggedInUser = localStorage.getItem('loggedInUser');
            if (loggedInUser) {
                state.user = JSON.parse(loggedInUser);
                userName.textContent = state.user.name;
                showDashboard();
                updateRecentAnalysesList();
            } else {
                showHomePage();
            }
        });

        // Functions
        function showAuthModal() {
            authModal.style.display = 'flex';
            switchAuthTab('login');
        }

        function hideAuthModal() {
            authModal.style.display = 'none';
            authError.style.display = 'none';
        }

        function switchAuthTab(tab) {
            if (tab === 'login') {
                loginTab.classList.add('active');
                registerTab.classList.remove('active');
                loginForm.classList.add('active');
                registerForm.classList.remove('active');
            } else {
                registerTab.classList.add('active');
                loginTab.classList.remove('active');
                registerForm.classList.add('active');
                loginForm.classList.remove('active');
            }
            authError.style.display = 'none';
        }

        function loginUser() {
            const email = document.getElementById('loginEmail').value.trim();
            const password = document.getElementById('loginPassword').value.trim();
            
            if (!email || !password) {
                showAuthError('Please enter both email and password');
                return;
            }
            
            // In a real app, you would validate credentials with a server
            // For demo purposes, we'll just create a user object
            state.user = {
                name: email.split('@')[0],
                email: email
            };
            
            localStorage.setItem('loggedInUser', JSON.stringify(state.user));
            hideAuthModal();
            showDashboard();
            userName.textContent = state.user.name;
        }

        function registerUser() {
            const name = document.getElementById('registerName').value.trim();
            const email = document.getElementById('registerEmail').value.trim();
            const password = document.getElementById('registerPassword').value.trim();
            
            if (!name || !email || !password) {
                showAuthError('Please fill in all fields');
                return;
            }
            
            if (password.length < 6) {
                showAuthError('Password must be at least 6 characters');
                return;
            }
            
            // In a real app, you would send this data to a server
            // For demo purposes, we'll just create a user object
            state.user = {
                name: name,
                email: email
            };
            
            localStorage.setItem('loggedInUser', JSON.stringify(state.user));
            hideAuthModal();
            showDashboard();
            userName.textContent = state.user.name;
        }

        function showAuthError(message) {
            authError.textContent = message;
            authError.style.display = 'block';
        }

        function logoutUser() {
            state.user = null;
            localStorage.removeItem('loggedInUser');
            showHomePage();
        }

        function showHomePage() {
            homePage.style.display = 'block';
            dashboard.style.display = 'none';
            analysisPage.style.display = 'none';
        }

        function showDashboard() {
            homePage.style.display = 'none';
            dashboard.style.display = 'block';
            analysisPage.style.display = 'none';
            updateRecentAnalysesList();
        }

        function showAnalysisPage() {
            if (!state.user) {
                showAuthModal();
                return;
            }
            
            homePage.style.display = 'none';
            dashboard.style.display = 'none';
            analysisPage.style.display = 'block';
            queryInput.focus();
        }

        async function analyzeQuery() {
            if (!state.user) {
                showAuthModal();
                return;
            }
            
            const query = queryInput.value.trim();
            if (!query) {
                showError('Please enter a search query');
                return;
            }
            
            showLoading(true);
            
            try {
                const response = await fetch('http://localhost:5000/api/analyze', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({ query })
                });
                
                if (!response.ok) {
                    const error = await response.json();
                    throw new Error(error.error || 'Analysis failed');
                }
                
                const data = await response.json();
                state.currentAnalysis = data;
                displayResults(data);
                
                // Add to recent analyses
                state.recentAnalyses.unshift({
                    query: query,
                    date: new Date().toLocaleString(),
                    data: data // Store the analysis data
                });
                
                // Keep only the last 10 analyses
                if (state.recentAnalyses.length > 10) {
                    state.recentAnalyses.pop();
                }
                
                // Save to localStorage
                localStorage.setItem('recentAnalyses', JSON.stringify(state.recentAnalyses));
                updateRecentAnalysesList();
                
            } catch (err) {
                showError(err.message || 'Analysis failed');
            } finally {
                showLoading(false);
            }
        }

        function displayResults(data) {
            document.getElementById('queryDisplay').textContent = `"${data.query}"`;
            document.getElementById('sourceCount').textContent = `${data.source_count} sources analyzed`;
            
            // Display platform status
            const platformStatusDiv = document.getElementById('platformStatus');
            platformStatusDiv.innerHTML = '';
            
            for (const [platform, status] of Object.entries(data.platform_status)) {
                const platformTag = document.createElement('span');
                platformTag.className = `platform-tag ${status}`;
                platformTag.innerHTML = `<i class="mdi mdi-${platform.toLowerCase()}"></i> ${platform}: ${status}`;
                platformStatusDiv.appendChild(platformTag);
            }
            
            // Display analyses
            document.getElementById('detailedExplanation').innerHTML = 
                `<p>${data.analysis.detailed_explanation}</p>`;
            document.getElementById('marketAnalysis').innerHTML = 
                `<p>${data.analysis.market_analysis}</p>`;
            document.getElementById('publicOpinion').innerHTML = 
                `<p>${data.analysis.public_opinion}</p>`;
            document.getElementById('sentimentAnalysis').innerHTML = 
                `<p>${data.analysis.sentiment_analysis}</p>`;
            
            // Render sentiment chart
            renderSentimentChart(data.analysis.sentiment_analysis);
            
            document.getElementById('resultsContainer').style.display = 'block';
        }

        function renderSentimentChart(sentimentText) {
            // Extract percentages from sentiment text
            const positive = extractPercentage(sentimentText, 'positive') || 58;
            const neutral = extractPercentage(sentimentText, 'neutral') || 27;
            const negative = extractPercentage(sentimentText, 'negative') || 15;
            
            const chartContainer = document.getElementById('sentimentChartContainer');
            chartContainer.innerHTML = '<canvas id="sentimentChart"></canvas>';
            
            const ctx = document.getElementById('sentimentChart').getContext('2d');
            new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: ['Positive', 'Neutral', 'Negative'],
                    datasets: [{
                        data: [positive, neutral, negative],
                        backgroundColor: ['#00C9A7', '#FFB86C', '#FF6584'],
                        borderWidth: 0
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {
                        legend: {
                            position: 'bottom',
                            labels: { color: '#E2E8F0', font: { family: 'Inter' } }
                        }
                    },
                    cutout: '70%'
                }
            });
        }

        function extractPercentage(text, keyword) {
            const match = text.match(new RegExp(`${keyword}[^\\d]*(\\d+)%`, 'i'));
            return match ? parseInt(match[1]) : null;
        }

        function showLoading(show) {
            document.getElementById('loading').style.display = show ? 'block' : 'none';
            document.getElementById('resultsContainer').style.display = show ? 'none' : 'block';
            document.getElementById('errorContainer').style.display = 'none';
        }

        function showError(message) {
            const errorContainer = document.getElementById('errorContainer');
            errorContainer.innerHTML = `
                <div class="analysis-section" style="background: rgba(255, 101, 132, 0.1); border-color: rgba(255, 101, 132, 0.3);">
                    <h2 style="color: var(--danger);"><i class="mdi mdi-alert-circle"></i> Analysis Error</h2>
                    <div class="analysis-content">
                        <p><strong>${message}</strong></p>
                        <p>Please try again later or with a different query.</p>
                    </div>
                </div>
            `;
            errorContainer.style.display = 'block';
        }

        function startChat() {
            document.getElementById('resultsContainer').style.display = 'none';
            document.getElementById('chatContainer').style.display = 'block';
            addChatMessage('assistant', `I'm your analysis assistant. I can help you interpret these results about "${state.currentAnalysis.query}". What would you like to know?`);
        }

        function closeChat() {
            document.getElementById('chatContainer').style.display = 'none';
            document.getElementById('resultsContainer').style.display = 'block';
        }

        function resetAnalysis() {
            state.currentAnalysis = null;
            state.chatHistory = [];
            chatMessages.innerHTML = '';
            document.getElementById('resultsContainer').style.display = 'none';
            document.getElementById('chatContainer').style.display = 'none';
            queryInput.value = '';
            queryInput.focus();
        }

        function saveAnalysis() {
            if (!state.currentAnalysis) return;
            
            // In a real app, you would save this to a database
            // For demo, we'll just show a message
            const notification = document.createElement('div');
            notification.className = 'message bot-message';
            notification.innerHTML = `<i class="mdi mdi-check-circle" style="color: var(--success);"></i> Analysis for "${state.currentAnalysis.query}" has been saved to your account.`;
            chatMessages.appendChild(notification);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }

        async function sendChatMessage() {
            const message = chatInput.value.trim();
            if (!message) return;
            
            addChatMessage('user', message);
            chatInput.value = '';
            
            const typingIndicator = document.createElement('div');
            typingIndicator.className = 'message bot-message';
            typingIndicator.innerHTML = '<i><i class="mdi mdi-dots-horizontal" style="animation: pulse 1s infinite;"></i> Assistant is typing...</i>';
            chatMessages.appendChild(typingIndicator);
            chatMessages.scrollTop = chatMessages.scrollHeight;
            
            try {
                const response = await fetch('http://localhost:5000/api/chat', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        query: message,
                        chat_history: state.chatHistory,
                        context: state.currentAnalysis?.query || '',
                        analysis_data: state.currentAnalysis // Send the full analysis data
                    })
                });
                
                if (!response.ok) throw new Error('Failed to get chat response');
                
                const data = await response.json();
                chatMessages.removeChild(typingIndicator);
                addChatMessage('assistant', data.response);
                
            } catch (err) {
                chatMessages.removeChild(typingIndicator);
                addChatMessage('assistant', "Sorry, I encountered an error. Please try again.");
            }
        }

        function addChatMessage(role, content) {
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${role}-message`;
            
            const time = new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });
            
            messageDiv.innerHTML = `
                <div style="display: flex; align-items: center; gap: 0.5rem; margin-bottom: 0.25rem;">
                    <strong>${role === 'assistant' ? '<i class="mdi mdi-robot"></i> Assistant' : '<i class="mdi mdi-account"></i> You'}</strong>
                </div>
                <div>${content}</div>
                <div class="message-time">${time}</div>
            `;
            
            chatMessages.appendChild(messageDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
            state.chatHistory.push({ role, content });
        }

        function updateRecentAnalysesList() {
            if (!recentAnalysisList) return;
            
            recentAnalysisList.innerHTML = '';
            
            state.recentAnalyses.slice(0, 5).forEach((analysis, index) => {
                const item = document.createElement('div');
                item.className = 'analysis-item';
                item.innerHTML = `
                    <div>
                        <div class="analysis-query">${analysis.query}</div>
                        <div class="analysis-date">${analysis.date}</div>
                    </div>
                    <div class="analysis-actions">
                        <button class="action-btn" title="View" onclick="viewAnalysis(${index})"><i class="mdi mdi-eye"></i></button>
                        <button class="action-btn" title="Delete" onclick="deleteAnalysis(${index})"><i class="mdi mdi-delete"></i></button>
                    </div>
                `;
                recentAnalysisList.appendChild(item);
            });
        }

        function viewAnalysis(index) {
            if (index >= 0 && index < state.recentAnalyses.length) {
                state.currentAnalysis = state.recentAnalyses[index].data;
                showAnalysisPage();
                displayResults(state.currentAnalysis);
            }
        }

        function deleteAnalysis(index) {
            if (index >= 0 && index < state.recentAnalyses.length) {
                state.recentAnalyses.splice(index, 1);
                localStorage.setItem('recentAnalyses', JSON.stringify(state.recentAnalyses));
                updateRecentAnalysesList();
            }
        }

        // Add animation for typing indicator
        const style = document.createElement('style');
        style.textContent = `@keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.5; } }`;
        document.head.appendChild(style);

        // Make functions available globally for inline event handlers
        window.viewAnalysis = viewAnalysis;
        window.deleteAnalysis = deleteAnalysis;
    </script>
</body>
</html>
